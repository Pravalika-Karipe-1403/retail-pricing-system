<div *ngIf="selectedLocation" class="page-container">
  <!-- Location Card -->
  <mat-card class="location-card">
    <div class="location-header">
      <div class="location-text">
        <mat-icon color="primary">location_on</mat-icon>

        <span>
          <strong>Location:</strong>

          {{ selectedLocation.country }}

          -

          {{ selectedLocation.city }}

          -

          {{ selectedLocation.storeId }}
        </span>
      </div>
    </div>
  </mat-card>

  <!-- Toolbar Card -->
  <mat-card class="toolbar-card">
    <div class="toolbar">
      <!-- Filter -->
      <mat-form-field appearance="outline" class="filter-box">
        <mat-label>Search Product / SKU</mat-label>

        <input
          matInput
          [(ngModel)]="filter"
          (input)="applyFilter()"
          placeholder="Type to search"
        />

        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <!-- Upload -->
      <button mat-raised-button color="primary" class="upload-btn">
        <mat-icon>upload</mat-icon>

        Upload CSV
      </button>
    </div>
  </mat-card>

  <!-- Table Card -->
  <mat-card class="table-card">
    <table mat-table [dataSource]="dataSource" class="pricing-table">
      <!-- SKU -->
      <ng-container matColumnDef="sku">
        <th mat-header-cell *matHeaderCellDef>SKU</th>

        <td mat-cell *matCellDef="let row">
          {{ row.sku }}
        </td>
      </ng-container>

      <!-- Product -->
      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef>Product</th>

        <td mat-cell *matCellDef="let row">
          {{ row.productName }}
        </td>
      </ng-container>

      <!-- Price -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Price</th>

        <td mat-cell *matCellDef="let row">
          <mat-form-field appearance="outline" class="price-field">
            <input matInput [(ngModel)]="row.price" />
          </mat-form-field>
        </td>
      </ng-container>

      <!-- Action -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Action</th>

        <td mat-cell *matCellDef="let row">
          <button mat-raised-button color="accent" (click)="save(row)">
            Save
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns"></tr>

      <tr mat-row *matRowDef="let row; columns: columns"></tr>
    </table>
    <mat-paginator
      [length]="totalRecords"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20]"
      (page)="pageChanged($event)"
    >
    </mat-paginator>
  </mat-card>
</div>
